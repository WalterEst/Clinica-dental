<app-nav-bar></app-nav-bar>

<div class="container">
  <div class="form-wrapper">
    <div class="form-header">
      <h1 class="form-title">Registrar Pago</h1>
      <p class="form-subtitle">Completa la información del pago realizado</p>
    </div>

    <form [formGroup]="pagoForm" (ngSubmit)="onSubmit()" class="patient-form">
      <!-- Fila 1: ID Tratamiento -->
      <div class="form-row">
        <div class="form-group">
          <label for="id_p_tratamiento" class="form-label">ID Tratamiento</label>
          <input
            type="number"
            id="id_p_tratamiento"
            formControlName="id_p_tratamiento"
            class="form-input"
            placeholder="Ej: 102"
          />
        </div>
      </div>

      <!-- Fila 2: ID Paciente + Monto -->
      <div class="form-row">
        <div class="form-group">
          <label for="id_paciente" class="form-label">ID Paciente</label>
          <input
            type="number"
            id="id_paciente"
            formControlName="id_paciente"
            class="form-input"
            placeholder="Ej: 204"
          />
        </div>

        <div class="form-group">
          <label for="monto" class="form-label">Monto</label>
          <input
            type="number"
            id="monto"
            formControlName="monto"
            class="form-input"
            placeholder="Ej: 50000"
          />
        </div>
      </div>

      <!-- Fila 3: Método de pago + Referencia -->
      <div class="form-row">
        <div class="form-group">
          <label for="metodo_pago" class="form-label">Método de Pago</label>
          <select id="metodo_pago" formControlName="metodo_pago" class="form-input">
            <option value="" disabled>Seleccione</option>
            <option value="efectivo">Efectivo</option>
            <option value="tarjeta">Tarjeta</option>
            <option value="transferencia">Transferencia</option>
          </select>
        </div>

        <div class="form-group">
          <label for="referencia" class="form-label">Referencia</label>
          <input
            type="text"
            id="referencia"
            formControlName="referencia"
            class="form-input"
            placeholder="Ej: #123ABC"
          />
        </div>
      </div>

      <!-- Fila 4: Estado -->
      <div class="form-row">
        <div class="form-group full-width">
          <label for="estado" class="form-label">Estado</label>
          <select id="estado" formControlName="estado" class="form-input">
            <option value="pendiente">Pendiente</option>
            <option value="completado">Completado</option>
            <option value="rechazado">Rechazado</option>
          </select>
        </div>
      </div>

      <!-- Botón de envío -->
      <div class="form-actions">
        <button type="submit" class="submit-btn" [disabled]="pagoForm.invalid">
          <span class="btn-text">Guardar Pago</span>
          <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </button>
      </div>

      <!-- Mensajes -->
      <div *ngIf="mensaje" class="success-message">
        {{ mensaje }}
      </div>
      <div *ngIf="error" class="error">
        {{ error }}
      </div>
    </form>
  </div>
</div>

<app-footer></app-footer>
